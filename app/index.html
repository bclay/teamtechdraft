<!doctype html>
<html ng-app="App">
  <head>
    <link rel="stylesheet" href="/css/app.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0-rc.3/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0-rc.3/angular-route.js"></script>
    <script src="/js/app.js"></script>
    <script type="text/javascript" src="http://platform.linkedin.com/in.js">
      api_key: 75m4iuv23t30aq
      onLoad: onLinkedInLoad
      authorize: true
    </script>
    <script type="text/javascript">
      // 2. Runs when the JavaScript framework is loaded
      function onLinkedInLoad() {
        IN.Event.on(IN, "auth", onLinkedInAuth);
      }

      // 2. Runs when the viewer has authenticated
      function onLinkedInAuth() {
        IN.API.Profile("me").result(displayProfiles);
      }

      // 2. Runs when the Profile() API call returns successfully
      function displayProfiles(profiles) {
        member = profiles.values[0];
        document.getElementById("profiles").innerHTML = 
          "<p id=\"" + member.id + "\">Name: " +  member.firstName + " " + member.lastName + "</p>"+
          "<p>Title: "+member.headline+"</p>";
          
      }
    </script>
  </head>
  <body>
    <h1>AngularJS Guest List</h1> 
    <pre class="status" ng-bind="status"></pre>
    <div ng-view></div>
    <!-- 3. Displays a button to let the viewer authenticate -->
    <script type="IN/Login"></script>

    <!-- 4. Placeholder for the greeting -->
    <div id="profiles"></div>
  </body>
</html>
